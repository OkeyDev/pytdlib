from .function import Function

from .file_type import FileType
from .storage_statistics import StorageStatistics
from typing import List

### FILE IS AUTOGENERATED. DO NO EDIT IT BY HAND ###

class OptimizeStorage(Function[StorageStatistics]):
    """
    Optimizes storage usage, i.e. deletes some files and returns new storage usage statistics. Secret thumbnails can't be deleted

    :param size: Limit on the total size of files after deletion, in bytes. Pass -1 to use the default limit
    :param ttl: Limit on the time that has passed since the last time a file was accessed (or creation time for some filesystems). Pass -1 to use the default limit
    :param count: Limit on the total number of files after deletion. Pass -1 to use the default limit
    :param immunity_delay: The amount of time after the creation of a file during which it can't be deleted, in seconds. Pass -1 to use the default value
    :param file_types: If non-empty, only files with the given types are considered. By default, all types except thumbnails, profile photos, stickers and wallpapers are deleted
    :param chat_ids: If non-empty, only files from the given chats are considered. Use 0 as chat identifier to delete files not belonging to any chat (e.g., profile photos)
    :param exclude_chat_ids: If non-empty, files from the given chats are excluded. Use 0 as chat identifier to exclude all files not belonging to any chat (e.g., profile photos)
    :param return_deleted_file_statistics: Pass true if statistics about the files that were deleted must be returned instead of the whole storage usage statistics. Affects only returned statistics
    :param chat_limit: Same as in getStorageStatistics. Affects only returned statistics
    :return: :class:`StorageStatistics`
    """
    __slots__ = ("size", "ttl", "count", "immunity_delay", "file_types", "chat_ids", "exclude_chat_ids", "return_deleted_file_statistics", "chat_limit", "_extra", "_client_id", "_type")

    def __init__(self, size: int = 0, ttl: int = 0, count: int = 0, immunity_delay: int = 0, file_types: List[FileType] | None = None, chat_ids: List[int] | None = None, exclude_chat_ids: List[int] | None = None, return_deleted_file_statistics: bool = False, chat_limit: int = 0):
        self.size = size
        self.ttl = ttl
        self.count = count
        self.immunity_delay = immunity_delay
        self.file_types = file_types
        self.chat_ids = chat_ids
        self.exclude_chat_ids = exclude_chat_ids
        self.return_deleted_file_statistics = return_deleted_file_statistics
        self.chat_limit = chat_limit
        self._type = "optimizeStorage"